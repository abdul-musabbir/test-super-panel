import{c as R,r as z,j as s,F as L,t as T}from"./app-40lNUnUv.js";import{a as K,B as I}from"./createLucideIcon-DCKG7YgM.js";import{b as O,d as P,c as U,f as G,g as q,D as J,e as Q}from"./dialog-GnpHtCuV.js";import{I as W}from"./input-BmJsHBno.js";import{L as X}from"./label-DajGlDb8.js";import{S as $}from"./spinner-Be3Ed7kA.js";import{C as Y,B as Z}from"./badge-DYn1vCgy.js";import{T as ee}from"./trash-DYZ1nPwq.js";import{a as se,f as te,g as H,h as M,d as ne,e as ae}from"./dropdown-menu-Cm4ES1WG.js";import{C as A}from"./checkbox-lAB97Q5A.js";import{l as ie}from"./index-DhGkjftf.js";import{r as re}from"./index-BNR1olH8.js";import{C as oe}from"./index-BME-wN3l.js";/* empty css            */import"./index-BA-mkiFY.js";import"./index-DSPS6RwW.js";import"./index-D9mIziSq.js";import"./loader-circle-CK-fIWqE.js";import"./index-Dn2iR9jE.js";import"./index-CMWG4mbA.js";const le=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ce=K("Ellipsis",le);function de(t){const e=R.c(28),{action:n,confirmText:a,subjectLabel:d,title:f,description:y,onSuccess:m,onError:r,open:u,setOpen:h}=t,o=d===void 0?"item":d,l=f===void 0?"Final confirmation":f,i=z.useId(),[c,_]=z.useState("");let C;e[0]!==h?(C=S=>{h(S),S||_("")},e[0]=h,e[1]=C):C=e[1];const N=C,F=c===a,w=y??`This action cannot be undone. To confirm, please enter the ${o} name "${a}".`;let k;e[2]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("div",{"aria-hidden":"true",className:"flex size-9 shrink-0 items-center justify-center rounded-full border",children:s.jsx(Y,{className:"opacity-80",size:16})}),e[2]=k):k=e[2];let p;e[3]!==l?(p=s.jsx(O,{className:"sm:text-center",children:l}),e[3]=l,e[4]=p):p=e[4];let x;e[5]!==w?(x=s.jsx(P,{className:"sm:text-center",children:w}),e[5]=w,e[6]=x):x=e[6];let g;e[7]!==p||e[8]!==x?(g=s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[k,s.jsxs(U,{children:[p,x]})]}),e[7]=p,e[8]=x,e[9]=g):g=e[9];let j;e[10]!==F||e[11]!==a||e[12]!==i||e[13]!==c||e[14]!==o?(j=S=>{const{processing:B}=S;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"*:not-first:mt-2",children:[s.jsxs(X,{htmlFor:i,children:[o.charAt(0).toUpperCase()+o.slice(1)," ","name"]}),s.jsx(W,{id:i,onChange:V=>_(V.target.value),placeholder:`Type "${a}" to confirm`,type:"text",value:c})]}),s.jsxs(G,{children:[s.jsx(q,{asChild:!0,children:s.jsx(I,{type:"reset",variant:"outline",children:"Cancel"})}),s.jsxs(I,{variant:"destructive",disabled:!F||B,type:"submit",children:[B?s.jsx($,{"aria-hidden":"true",className:"-ms-1 opacity-60"}):s.jsx(ee,{"aria-hidden":"true",className:"-ms-1 opacity-60",size:16}),"Delete"]})]})]})},e[10]=F,e[11]=a,e[12]=i,e[13]=c,e[14]=o,e[15]=j):j=e[15];let v;e[16]!==n||e[17]!==r||e[18]!==m||e[19]!==j?(v=s.jsx(L,{className:"space-y-5",...n,onSuccess:m,onError:r,resetOnSuccess:!0,children:j}),e[16]=n,e[17]=r,e[18]=m,e[19]=j,e[20]=v):v=e[20];let b;e[21]!==g||e[22]!==v?(b=s.jsxs(J,{className:"w-md",children:[g,v]}),e[21]=g,e[22]=v,e[23]=b):b=e[23];let D;return e[24]!==N||e[25]!==u||e[26]!==b?(D=s.jsx(Q,{open:u,onOpenChange:N,children:b}),e[24]=N,e[25]=u,e[26]=b,e[27]=D):D=e[27],D}function me(t){const e=R.c(16),{row:n,render:a,customButton:d}=t,[f,y]=z.useState(!1);let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(se,{asChild:!0,children:s.jsx("div",{className:"flex justify-end",children:s.jsx(I,{"aria-label":"Edit item",className:"shadow-none",size:"icon",variant:"ghost",children:s.jsx(ce,{"aria-hidden":"true",size:16})})})}),e[0]=m):m=e[0];let r;e[1]!==d||e[2]!==n?(r=d({row:n}),e[1]=d,e[2]=n,e[3]=r):r=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(te,{}),e[4]=u):u=e[4];let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=()=>y(!0),e[5]=h):h=e[5];let o;e[6]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsxs(H,{onClick:h,className:"text-destructive focus:text-destructive",children:[s.jsx("span",{children:"Delete"}),s.jsx(M,{children:"⌘⌫"})]}),e[6]=o):o=e[6];let l;e[7]!==r?(l=s.jsxs(ne,{children:[m,s.jsxs(ae,{align:"end",children:[r,u,o]})]}),e[7]=r,e[8]=l):l=e[8];let i;e[9]!==f||e[10]!==a||e[11]!==n?(i=a({row:n,open:f,setIsOpen:y}),e[9]=f,e[10]=a,e[11]=n,e[12]=i):i=e[12];let c;return e[13]!==l||e[14]!==i?(c=s.jsxs(s.Fragment,{children:[l,i]}),e[13]=l,e[14]=i,e[15]=c):c=e[15],c}const E=(t,e,n)=>{const a=`${t.original.webhook.name} ${t.original.webhook.user.name} ${t.original.source}`.toLowerCase(),d=(n??"").toLowerCase();return a.includes(d)},ue=(t,e,n)=>{if(!n?.length)return!0;const a=t.getValue(e);return n.includes(a)},Te=[{id:"select",size:28,enableHiding:!1,enableSorting:!1,header:({table:t})=>s.jsx(A,{"aria-label":"Select all",checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>t.toggleAllPageRowsSelected(!!e)}),cell:({row:t})=>s.jsx(A,{"aria-label":"Select row",checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e)})},{id:"restaurantInfo",accessorKey:"restaurantInfo",header:"Restaurant Name",size:180,enableHiding:!1,filterFn:E,cell:({row:t})=>{const e=t.getValue("restaurantInfo");return s.jsxs("div",{className:"flex items-center gap-2",children:[e.avatar&&s.jsx("img",{src:e.avatar,alt:e.name,className:"h-6 w-6 rounded-full object-cover"}),s.jsx("span",{className:"font-medium",children:e.name})]})}},{accessorKey:"bookingInfo",header:"Booking Info",size:180,enableHiding:!1,filterFn:E,cell:({row:t})=>{const e=t.getValue("bookingInfo");return s.jsxs("div",{className:"font-medium",children:[s.jsxs("div",{children:["Date: ",e.date]}),s.jsxs("div",{children:["Time: ",e.time]}),s.jsxs("div",{children:["Guest: ",e.guest]}),s.jsxs("div",{children:["Booking: ",e.bookingDate]})]})}},{accessorKey:"contactInfo",header:"Contact",size:220,cell:({row:t})=>{const e=t.getValue("contactInfo");return s.jsxs("div",{children:[s.jsxs("div",{children:["Name: ",e.name]}),s.jsxs("div",{children:["Email: ",e.email]}),s.jsxs("div",{children:["Phone: ",e.phone]})]})}},{accessorKey:"message",header:"message",size:200},{accessorKey:"status",header:"Status",size:100,filterFn:ue,cell:({row:t})=>{const e=t.getValue("status");return s.jsx(Z,{variant:e==="Active"?"default":e==="Pending"?"secondary":"destructive",children:e})}},{id:"actions",header:"Action",size:60,enableHiding:!1,cell:({row:t})=>s.jsx(L,{...re.approved.booking.form(t.original),children:({processing:e})=>s.jsx(s.Fragment,{children:s.jsxs(I,{type:"submit",variant:t.original.status==="approved"?"secondary":"default",disabled:e||t.original.status==="approved",children:[e?s.jsx($,{}):s.jsx(oe,{})," ",t.original.status==="approved"?"Unapproved":"Approved"]})})})},{id:"actions",size:60,enableHiding:!1,header:()=>s.jsx("span",{className:"sr-only",children:"Actions"}),cell:({row:t})=>s.jsx(me,{row:t,customButton:()=>s.jsxs(H,{children:[s.jsx("span",{children:"Approved / Unapproved"}),s.jsx(M,{children:"⌘E"})]}),render:({open:e,setIsOpen:n})=>s.jsx(de,{open:e,setOpen:n,subjectLabel:"Recent Booking",confirmText:t.original.name,action:ie(),onSuccess:()=>{T.success("Recent Booking deleted successfully"),n(!1)},onError:a=>{console.error("Delete error:",a),T.error("Failed to delete booking")}})})}];export{Te as columns};
