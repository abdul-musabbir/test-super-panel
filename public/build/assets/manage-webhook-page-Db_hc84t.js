import{c as f,r as j,j as e,H as b}from"./app-40lNUnUv.js";import{A as y}from"./app-layout-BD71LRQK.js";import{GenerateWebhookDialog as h}from"./generate-webhook-dialog-BRKi36aO.js";import{B as k}from"./createLucideIcon-DCKG7YgM.js";import{f as w,c as v,C,a as N,d as E,e as _}from"./card-CBaeZ5On.js";import{E as g,a as A,b as I,I as L,c as T,d as W,e as F}from"./IconFolderCode-IrT0Z1Il.js";import{I as H}from"./input-BmJsHBno.js";import{L as S}from"./label-DajGlDb8.js";import{a as D,q as R}from"./index-CMWG4mbA.js";import{C as U}from"./index-BME-wN3l.js";import{C as $}from"./copy-B98giprJ.js";/* empty css            */import"./index-BA-mkiFY.js";import"./index-DSPS6RwW.js";import"./dropdown-menu-Cm4ES1WG.js";import"./index-Dk5cbNSs.js";import"./ImpersonateController-CbuNYEkJ.js";import"./index-D9mIziSq.js";import"./index-DhGkjftf.js";import"./index-C8ical1g.js";import"./index-CEEAm3OZ.js";import"./index-BNR1olH8.js";import"./index-Bo4CThcM.js";import"./app-logo-icon-Cpyu7wsY.js";import"./users-BDqMZfLL.js";import"./dialog-GnpHtCuV.js";import"./webhook-form-aKcVb0tJ.js";import"./input-error-D0YMzQfs.js";import"./spinner-Be3Ed7kA.js";import"./loader-circle-CK-fIWqE.js";const i=(o,t)=>({url:i.url(o,t),method:"post"});i.definition={methods:["post"],url:"/api/webhook/{webhook}"};i.url=(o,t)=>{(typeof o=="string"||typeof o=="number")&&(o={webhook:o}),typeof o=="object"&&!Array.isArray(o)&&"webhook_url"in o&&(o={webhook:o.webhook_url}),Array.isArray(o)&&(o={webhook:o[0]}),o=D(o);const r={webhook:typeof o.webhook=="object"?o.webhook.webhook_url:o.webhook};return i.definition.url.replace("{webhook}",r.webhook.toString()).replace(/\/+$/,"")+R(t)};i.post=(o,t)=>({url:i.url(o,t),method:"post"});const u=(o,t)=>({action:i.url(o,t),method:"post"});u.post=(o,t)=>({action:i.url(o,t),method:"post"});i.form=u;Object.assign(i,i);function fe(o){const t=f.c(6),{webhooks:r}=o,[p,d]=j.useState(null);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=async(s,c)=>{await navigator.clipboard.writeText(s),d(c),setTimeout(()=>d(null),1500)},t[0]=a):a=t[0];const x=a;let l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=e.jsx(b,{title:"Webhookit"}),t[1]=l):l=t[1];let n;t[2]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Webhook-päätepisteet"}),e.jsx("p",{className:"text-muted-foreground",children:"Hallitse webhook-osoitteita ja tarkastele lokitietoja."})]}),e.jsx(h,{})]}),t[2]=n):n=t[2];let m;return t[3]!==p||t[4]!==r?(m=e.jsxs(y,{children:[l,e.jsxs("div",{className:"flex flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[n,e.jsx("div",{className:"relative min-h-[80vh] flex-1",children:r.length===0?e.jsxs(g,{children:[e.jsxs(A,{children:[e.jsx(I,{variant:"icon",children:e.jsx(L,{})}),e.jsx(T,{children:"Ei webhookeja vielä"}),e.jsx(W,{children:"Et ole vielä luonut yhtään webhook-päätepistettä. Luo uusi webhook vastaanottaaksesi tapahtumia reaaliajassa."})]}),e.jsx(F,{children:e.jsx("div",{className:"flex gap-2",children:e.jsx(h,{})})})]}):e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(s=>{const c=location.origin+i.url({webhook:s});return e.jsxs(w,{className:"w-full shadow-sm",children:[e.jsxs(v,{children:[e.jsx(C,{className:"flex items-center justify-between",children:s.name||`Webhook #${s.id}`}),e.jsx(N,{children:"Tämä URL vastaanottaa webhook-tapahtumat."})]}),e.jsx(E,{children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(S,{children:"Webhook-osoite"}),e.jsx(H,{value:c,readOnly:!0,className:"cursor-pointer"})]})}),e.jsx(_,{className:"flex items-center justify-between",children:e.jsx(k,{variant:"secondary",className:"flex w-full items-center gap-2",onClick:()=>x(c,s.id),children:p===s.id?e.jsxs(e.Fragment,{children:[e.jsx(U,{size:16})," ","Kopioitu!"]}):e.jsxs(e.Fragment,{children:[e.jsx($,{size:16})," ","Kopioi URL"]})})})]},s.id)})})})]})]}),t[3]=p,t[4]=r,t[5]=m):m=t[5],m}export{fe as default};
